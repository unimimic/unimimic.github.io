"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[14],{5648:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(8453),r=n(6540);function l(e){const t=Object.assign({h2:"h2",p:"p",ul:"ul",li:"li",a:"a",pre:"pre",code:"code"},(0,a.R)(),e.components);return r.createElement(r.Fragment,null,r.createElement(t.h2,null,"註冊服務"),"\n",r.createElement(t.p,null,"步驟："),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"到LINE Notify的官方服務網站(",r.createElement(t.a,{href:"https://notify-bot.line.me/zh_TW/"},"https://notify-bot.line.me/zh_TW/"),")。點選右上角的登入>點擊帳號旁下拉選單>管理登錄服務>登錄服務>填寫LINE Notify服務的各項資料>同意並前往下一步>登錄>點擊信箱連結啟用。"),"\n"),"\n",r.createElement(t.p,null,"備註："),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"僅「服務網址」及「Callback URL」兩項需填上http://127.0.0.1，這是因為等等我們的Python會在本機上執行，資料填完再點擊「同意並前往下一步」。"),"\n",r.createElement(t.li,null,"Email要填寫能夠正常收信的，沒收到認證信不能啟用服務。"),"\n"),"\n",r.createElement(t.h2,null,"發行權杖"),"\n",r.createElement(t.p,null,"步驟："),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"個人頁面>發行權杖>填寫權杖名稱>選擇要接收通知的聊天室>發行。"),"\n"),"\n",r.createElement(t.p,null,"備註："),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"按下發行時會跳出Token，把這一整串Token保存起來。"),"\n"),"\n",r.createElement(t.h2,null,"Python程式實作"),"\n",r.createElement(t.pre,null,r.createElement(t.code,{className:"language-python"},'import requests\n\ndef LineNotify(token, msg, sticker=None, image=None):\n    data = {\n        "url":"https://notify-api.line.me/api/notify",\n        "headers": {"Authorization": "Bearer " + token}\n    }\n    # msg\n    data.update({\n        "data": {\n            "message": msg\n        }\n    })\n    # sticker\n    if sticker is not None:\n        data.update({\n            "params":{\n                "stickerPackageId": sticker[0],\n                "stickerId": sticker[1],\n            }\n        })\n    # image\n    if image is not None:\n        data.update({\n            "files":{\n                "imageFile": image\n            }\n        })\n    # post\n    r = requests.post(**data)\n    print(r)\n    if r.status_code==requests.codes.ok:\n        print(\'成功\')\n    else:\n\t    print(f\'失敗: {r.status_code}\')\n\nif __name__ == "__main__":\n    token = "" # 填入token\n    msg = "test"\n    LineNotify(token, msg=\'rser\', sticker=(1,4),image=None)\n    # with open("test.jpg","rb") as img:\n    #     LineNotify(token, msg=\'rser\', sticker=(1,4),image=img)\n')))}var s=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.R)(),e.components);return t?r.createElement(t,e,r.createElement(l,e)):l(e)},c=n(6543),o=n(454),m=n(9704);const i=e=>{let{data:t,children:n}=e;const{title:l,date:s}=t.allMdx.nodes[0].frontmatter;return r.createElement(c.A,{pageTitle:l},r.createElement(o.Zp,null,r.createElement(o.aR,null,r.createElement(o.ZB,{className:"text-2xl text-center"},l),r.createElement(o.BT,null,s)),r.createElement(o.Wu,null,r.createElement(a.x,{components:m.d},n))))};function d(e){return r.createElement(i,e,r.createElement(s,e))}},9704:function(e,t,n){n.d(t,{d:function(){return r}});var a=n(6540);const r={h1:e=>a.createElement("h1",Object.assign({className:"text-4xl font-semibold mt-8 mb-4 pb-2 border-gray-200 dark:border-gray-700"},e)),h2:e=>a.createElement("h2",Object.assign({className:"text-3xl font-semibold mt-8 mb-4 pb-2 border-gray-200 dark:border-gray-700"},e)),h3:e=>a.createElement("h3",Object.assign({className:"text-2xl font-semibold mt-6 mb-3"},e)),h4:e=>a.createElement("h4",Object.assign({className:"text-xl font-semibold mt-5 mb-2"},e)),h5:e=>a.createElement("h5",Object.assign({className:"text-lg font-semibold mt-4 mb-2"},e)),h6:e=>a.createElement("h6",Object.assign({className:"text-base font-semibold mt-4 mb-2"},e)),p:e=>a.createElement("p",Object.assign({className:"my-4 text-base leading-6 text-gray-800 dark:text-gray-300"},e)),ul:e=>a.createElement("ul",Object.assign({className:"list-disc pl-8 my-4 text-gray-800 dark:text-gray-300"},e)),ol:e=>a.createElement("ol",Object.assign({className:"list-decimal pl-8 my-4 text-gray-800 dark:text-gray-300"},e)),li:e=>a.createElement("li",Object.assign({className:"my-1"},e)),a:e=>a.createElement("a",Object.assign({className:"text-blue-600 hover:underline dark:text-blue-400"},e)),blockquote:e=>a.createElement("blockquote",Object.assign({className:"border-l-4 border-gray-300 dark:border-gray-600 pl-4 text-gray-600 dark:text-gray-400 my-4"},e)),code:e=>a.createElement("code",Object.assign({className:"bg-gray-100 dark:bg-gray-800 rounded px-1 py-0.5 font-mono text-sm text-gray-800 dark:text-gray-200"},e)),pre:e=>a.createElement("pre",Object.assign({style:{overflowX:"auto"},className:"bg-gray-100 dark:bg-gray-800 rounded-md p-4 my-4 overflow-x-auto text-sm font-mono text-gray-800 dark:text-gray-200"},e)),table:e=>a.createElement("div",{className:"overflow-x-auto my-4"},a.createElement("table",Object.assign({className:"min-w-full border-collapse border border-gray-300 dark:border-gray-700"},e))),th:e=>a.createElement("th",Object.assign({className:"border border-gray-300 dark:border-gray-700 px-4 py-2 bg-gray-100 dark:bg-gray-800 font-semibold text-left"},e)),td:e=>a.createElement("td",Object.assign({className:"border border-gray-300 dark:border-gray-700 px-4 py-2"},e)),hr:e=>a.createElement("hr",Object.assign({className:"my-8 border-t border-gray-300 dark:border-gray-700"},e)),img:e=>a.createElement("img",Object.assign({className:"max-w-full h-auto rounded-md my-4"},e,{alt:e.alt||""}))}},8453:function(e,t,n){n.d(t,{R:function(){return s},x:function(){return c}});var a=n(6540);const r={},l=a.createContext(r);function s(e){const t=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(l.Provider,{value:t},e.children)}}}]);
//# sourceMappingURL=component---src-templates-blog-post-tsx-content-file-path-content-posts-line-notify-index-md-97c3f536e937f324c4c5.js.map